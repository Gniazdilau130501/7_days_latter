# Дневник разработки
Если бы я был крутым разработчиком, то тут было бы написано что-то крутое, а так буду тут писать иногда чем занимаюсь)

-----1го июня 2024-----

Этот день не первый раз становится днём важных решений в моей жизни, сегодня, в 24м году этот день стал точкой начала разработки игры
Сама история была создана мной раньше, еще в детстве, но её реализация произойдёт только сейчас.
Сегодня, обдумав всё, я создал этот репозиторий, чтобы поделиться своими мыслями с теми, кто как и я захочет поиграть в разработчика игр
и поверит в себя.
Первым шагом к разработке стал сценарий, который будет переделан по моей детской книге, так же важным шагом стала установка игрового движка Unity

Почему Unity? 
- он бесплатный
- по нему много уроков
- есть готовые болванки(примеры проектов)
- он не выглядит сложным

Определившись с сценарием и движком, можно начинать попытки хоть что-то собрать в Unity.

Сразу после установки движка надо разобраться с плагинами и как вообще создать проект. Я начал скачивать какой-то пакет, типо "новичок starter pack", когда получится что-то склеить, сразу покажу.

![image](https://github.com/Gniazdilau130501/7_days_latter/assets/144339388/56c055de-60a1-46e7-966b-3be1017df67d)

Интерфейс программы чем-то похож на Cinema 4D, я думаю, что с проектированием сцен проблем не будет

Первой проблемой после создания проекта было подобрать Assets, которые помогут мне создать какую-то базу(болванку) для ее дальнейшего развития

Далее возникла проблема, когда персонаж падал сквозь землю при запуске проекта, но как оказалось персонаж просто проходит сквозь объекты, а с "земли" не падает.
таким образом я начал первые движения по плоскости своей "карты"

![image](https://github.com/Gniazdilau130501/7_days_latter/assets/144339388/02315d61-5c60-4687-b4ac-eeeadfaa73d5)

Следующая проблема, которую мне нужно решить, это прохождение персонажа сквозь стены, буду углубляться в обучение по Unity и что-то тыкать.

Я рад тому, что мой персонаж уже умеет двигаться(ходить, бегать, прыгать и приседать)

-----2 июня 2024 -----

Сегодня опять зашёл посидеть в движке, решил разобраться в строении ланшафта, так как с него начнётся создание локаций. Я смог создать землю, сделать её бугристой и наложить разного рода текстуры. Я рисовал на ней как кистью

![image](https://github.com/Gniazdilau130501/7_days_latter/assets/144339388/e6dff713-28ed-4eef-8a16-18117031d47a)

И вот я смог посадить дерево, создать персонажа и даже заставить его стрелять, дом я тоже построил

![image](https://github.com/Gniazdilau130501/7_days_latter/assets/144339388/463dac3a-d17e-4322-8914-68b804e2176f)

![image](https://github.com/Gniazdilau130501/7_days_latter/assets/144339388/691e2574-5d2e-4ed3-bade-7c3df087bab9)

На данный момент я мог бы занятся проработкой первой локации, но я не хочу начинать заниматься чем-то глобальны пока не разберусь с механиками стрельбы, смены оружия, разрушением и т.п.

Еще надо не забывать про работу со звуком, но это думаю, можно будет предусмотреть потом.

Смог поставить прицельчики на калаш

![image](https://github.com/Gniazdilau130501/7_days_latter/assets/144339388/e9ec61ce-d98f-4b9d-9db0-24eecd3fe692)

Всё еще ломаю голову как поменять саму модельку калаша

-----5 июня 2024 -----

Сегодня, после небольшого отдыха решил разобраться с локацией. Решил сделать первую локацию, на которую попадёт игрок. Придумал ландшавт и структуру природы и на данный момент карта первой локации выглядит так:

![image](https://github.com/Gniazdilau130501/7_days_latter/assets/144339388/54fe25fe-e766-4c3e-8a17-5c8a384b37a9)

Далее буду работать с растительностью и постройками.

Карта стала выглядеть более живой, но нужно найти прототипы построек и еще научиться пользоваться шейдерами

![image](https://github.com/Gniazdilau130501/7_days_latter/assets/144339388/406253fb-62c3-41d6-b1d4-82a18f768815)

Из-за своей ошибки пришлось переделывать локацию, но должен сказать, что получилось относительно не плохо. Работа еще есть и работать еще нужно, но уже сейчас можете взглянуть на то, как выглядит карта на данный момент

![image](https://github.com/Gniazdilau130501/7_days_latter/assets/144339388/0287b253-c2b7-4a6d-923b-2ef3bd49df51)

![image](https://github.com/Gniazdilau130501/7_days_latter/assets/144339388/9d2d3059-1d92-4338-97f3-5985c09b4b3b)

![image](https://github.com/Gniazdilau130501/7_days_latter/assets/144339388/8a71a62c-9a14-4c98-9267-5aea82204750)

![image](https://github.com/Gniazdilau130501/7_days_latter/assets/144339388/90cc3ffc-1ca0-4814-8d3c-c228dac1e513)

![image](https://github.com/Gniazdilau130501/7_days_latter/assets/144339388/95632983-3fde-41b1-96e7-e2f73f988261)

-----6 июня 2024 -----

Сегодня я решил разобраться с переходами между локациями(сценами), так как в моём представлении о проекте это будет иметь важное значение. 

Я изучил переход между сценами по триггеру. По сути есть прозрачный куб, в который ты заходишь и тебя телепортирует на другую локацию. Я решил, что вместо того, чтобы делать полноценные 3D модели зданий или искать их или же покупать их, на много проще сделать отдельную сцену для каждого здания. В моих планах сделать несколько крупных локаций, которые будут основным игровым полем, а в дополнение к ним мини-локации, которые будут дополнять основной игровой мир. Я хочу, чтобы в зданиях можно было укрыться от врага, чтобы здания были точками сохранений и возможно в зданиях можно будет оставить разный лут.

Если успею, то хочу еще проработать приколы с проходом сквозь стены зданий, но пока этим вопросом не занимался.

Пока можете посмотреть на работу скрипта:

![image](https://github.com/Gniazdilau130501/7_days_latter/assets/144339388/a0edc738-197e-45ed-99a9-74e3d9461f97)

![image](https://github.com/Gniazdilau130501/7_days_latter/assets/144339388/61a64b48-4f8b-45d5-a577-3d068af07fa5)

![image](https://github.com/Gniazdilau130501/7_days_latter/assets/144339388/63bb3c15-26ef-4b96-b3a5-60604d5ffcea)

Данный скрипт, кстати первый написанный мной скрипт, переносит нас на соседнюю сцену. Если выстроить систрему таких триггеров и например добавить нажатие клавиши, для его срабатывания, то мы получим механику посещения зданий и перехода через локации.

-----7 июня 2024 -----

Сегодня я осознал, что при переходе через сцены значения здоровья и патронов возобновляются. Это необходимо как-то решить и впринципе разобраться с изменением полей персонажа, что даст в дальнейшем возможность применять аптечки, оставлять сохранения и сохранять свое состояние от сцены к сцене.

Пока что я ограничиваюсь только мыслями о решении этих проблем. Я решил создать систему сохранения и загрузки. Сегодня я попытался её реализовать прямо в скрипте перехода между локациями, но несколько часов работы ни к чему не привели кроме как к психам и усталости. То ошибки возникают, то поля не хотят извлекаться, то еще что-то, а когда я всё исправил и ошибок не было, персонаж перестал перемещаться между сценами. 

Короче говоря я ничего не добился сегодня, нужно глубоко изучить тему сохранения и загрузки. Имея такую механику, её просто можно применять при перемещении между локациями. Это решит проблему состояния здоровья и припасов, а так же решит проблему перемещения в конкретные места сцены при переходе между локациями. Пока что на сегодня всё.

-----8 июня 2024 -----

После вчерашних неудач с перемещением игрока с помощью скриптов, я был очень озадачен возникшей проблемой. Думая о решении этой проблемы даже на тренировке, я пришел к тому, что прежде чем заниматься перемещением в процессе перехода от сцены к сцене, необходимо попробовать телепортацию в пределах одной сцены, более локально.

По началу опять ничего не получалось. Скрипт был написан верно, но что-то мешало перемещению. Решение было найдено с помощью нейросети. Как оказалось перемещению мешал Character Controller, направленный на то, чтобы организовать логику и физику перемещения персонажа либо иного объекта. Когда я попробовал временно отключить СС на время телепортации, всё получилось.

Я считаю, что найденая мной особенность CS является ключём к решению предыдущей проблемы с перемещением игрока в конкретную точку при переходе через сцену. Так это или нет, я узнаю в течении ближайшего часа, а вы уже через пару строчек.


Спустя нескольких часов исследования мира CS я пришёл к выводу, что был прав, но проблема заключалась в другом. По сути мы перемещали в пространстве уже уничтоженный, после загрузки новой сцены объект. Соответственно мой скрипт никак не распростронялся на объект в новой сцене и ничего не работало. Я решил поменять подход и узнать можно ли перемещать объекты через сцены не создавая их дубликаты во второй сцене. Как оказалось, да, можно. Потратив еще времени я научился переносить игрока на другую сцену не создавая его дубликат на ней. Игрок перемещается на другую сцену в то же место, в котором был в предыдущей. По сути мир вокруг сохраняемых мной объектов удаляется и загружается новый. Таким образом точки входа/выхода между сценами должны быть расположены в одной координате, что решит мою проблему с перемещением при переходе при смене сцен. Так же при переходе в новую сцену сохраняются очки здоровья и кол-во патронов. Это тоже один из аспектов проблемы, которую я пытался решить.

Я решил сменить подход к зданиям и мини-локациям(доп локациями). Так как я научился телепортировать персонажа, я просто могу переносить его под карту в нужный мне "кубик", который будет играть роль дома. В теории этот кубик можно сделать и внутри самой модели дома. Но тогда проще было добавить механику дверей. Вообщем единственное, что я решил, что переход между сценами нужен для локаций глобальных, а для мелких дополнительных локаций надо просто найти место и туда переносить игрока. Когда я не много проработаю эту тему, я всё вам покажу.

-----9 июня 2024 -----

Сегодня совершенно не понятно почему, еще работающий вчера скрипт перестал работать. Понятия не имею счем это связано. Я думаю, что это можно исправить за счёт добавления объекта заново. 

Сегодня я занимаюсь проработкой карты, указываю коллайдеры домов и прорабатываю внутренности дома. Пока в планы входит только рисовка карты. По окончанию создания карты, буду прорабатывать игровой процесс, а имено записки, сохранение/загрузка, диалоги, иные персонажи, смены дня и ночи и конечно же враги.

![image](https://github.com/Gniazdilau130501/7_days_latter/assets/144339388/fd3fdd8d-9846-44c5-a245-701a93730f68)


Первым этапом разработки, который мне необходимо пройти - это бета-версия игры, которая будет состоять только из одной локации(первой). Далее работа над проектом пойдёт проще. На первой локации я учусь делать игру, на остальных локациях - я учусь делать это красиво.
